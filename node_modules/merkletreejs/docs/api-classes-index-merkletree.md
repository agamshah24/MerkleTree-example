---
id: api-classes-index-merkletree
title: MerkleTree
sidebar_label: MerkleTree
---

[merkletreejs](api-readme.md) > [[index Module]](api-modules-index-module.md) > [MerkleTree](api-classes-index-merkletree.md)

## Class

Class reprensenting a Merkle Tree

*__namespace__*: MerkleTree

## Hierarchy

**MerkleTree**

### Constructors

* [constructor](api-classes-index-merkletree.md#constructor)

### Properties

* [duplicateOdd](api-classes-index-merkletree.md#duplicateodd)
* [hashAlgo](api-classes-index-merkletree.md#hashalgo)
* [hashLeaves](api-classes-index-merkletree.md#hashleaves)
* [isBitcoinTree](api-classes-index-merkletree.md#isbitcointree)
* [layers](api-classes-index-merkletree.md#layers)
* [leaves](api-classes-index-merkletree.md#leaves)
* [sortLeaves](api-classes-index-merkletree.md#sortleaves)
* [sortPairs](api-classes-index-merkletree.md#sortpairs)

### Methods

* [createHashes](api-classes-index-merkletree.md#createhashes)
* [getLayers](api-classes-index-merkletree.md#getlayers)
* [getLayersAsObject](api-classes-index-merkletree.md#getlayersasobject)
* [getLeaves](api-classes-index-merkletree.md#getleaves)
* [getProof](api-classes-index-merkletree.md#getproof)
* [getRoot](api-classes-index-merkletree.md#getroot)
* [print](api-classes-index-merkletree.md#print)
* [toString](api-classes-index-merkletree.md#tostring)
* [toTreeString](api-classes-index-merkletree.md#totreestring)
* [verify](api-classes-index-merkletree.md#verify)
* [bufferify](api-classes-index-merkletree.md#bufferify)
* [print](api-classes-index-merkletree.md#print-1)

---

## Constructors

<a id="constructor"></a>

###  constructor

⊕ **new MerkleTree**(leaves: *`any`*, hashAlgorithm: *`any`*, options?: *[Options](api-interfaces-index-options.md)*): [MerkleTree](api-classes-index-merkletree.md)

*__desc__*: Constructs a Merkle Tree. All nodes and leaves are stored as Buffers. Lonely leaf nodes are promoted to the next level up without being hashed again.

*__example__*:
 ```js
const MerkleTree = require('merkletreejs')
const crypto = require('crypto')

function sha256(data) {
 // returns Buffer
 return crypto.createHash('sha256').update(data).digest()
}

const leaves = ['a', 'b', 'c'].map(x => sha3(x))

const tree = new MerkleTree(leaves, sha256)
```

**Parameters:**

| Name | Type | Default value | Description |
| ------ | ------ | ------ | ------ |
| leaves | `any` | - |  Array of hashed leaves. Each leaf must be a Buffer. |
| hashAlgorithm | `any` | - |  Algorithm used for hashing leaves and nodes |
| `Default value` options | [Options](api-interfaces-index-options.md) | {} as any |  Additional options |

**Returns:** [MerkleTree](api-classes-index-merkletree.md)

___

## Properties

<a id="duplicateodd"></a>

###  duplicateOdd

**● duplicateOdd**: *`boolean`*

___
<a id="hashalgo"></a>

###  hashAlgo

**● hashAlgo**: *`function`*

#### Type declaration
▸(value: *`any`*): `any`

**Parameters:**

| Name | Type |
| ------ | ------ |
| value | `any` |

**Returns:** `any`

___
<a id="hashleaves"></a>

###  hashLeaves

**● hashLeaves**: *`boolean`*

___
<a id="isbitcointree"></a>

###  isBitcoinTree

**● isBitcoinTree**: *`boolean`*

___
<a id="layers"></a>

###  layers

**● layers**: *`any`[]*

___
<a id="leaves"></a>

###  leaves

**● leaves**: *`any`[]*

___
<a id="sortleaves"></a>

###  sortLeaves

**● sortLeaves**: *`boolean`*

___
<a id="sortpairs"></a>

###  sortPairs

**● sortPairs**: *`boolean`*

___

## Methods

<a id="createhashes"></a>

###  createHashes

▸ **createHashes**(nodes: *`any`*): `void`

**Parameters:**

| Name | Type |
| ------ | ------ |
| nodes | `any` |

**Returns:** `void`

___
<a id="getlayers"></a>

###  getLayers

▸ **getLayers**(): `any`[]

getLayers

*__desc__*: Returns array of all layers of Merkle Tree, including leaves and root.

*__example__*:
 ```js
const layers = tree.getLayers()
```

**Returns:** `any`[]

___
<a id="getlayersasobject"></a>

###  getLayersAsObject

▸ **getLayersAsObject**(): `any`

**Returns:** `any`

___
<a id="getleaves"></a>

###  getLeaves

▸ **getLeaves**(): `any`[]

getLeaves

*__desc__*: Returns array of leaves of Merkle Tree.

*__example__*:
 ```js
const leaves = tree.getLeaves()
```

**Returns:** `any`[]

___
<a id="getproof"></a>

###  getProof

▸ **getProof**(leaf: *`any`*, index?: *`any`*): `any`[]

getProof

*__desc__*: Returns the proof for a target leaf.

*__example__*:
 ```js
const proof = tree.getProof(leaves[2])
```

*__example__*:
 ```js
const leaves = ['a', 'b', 'a'].map(x => sha3(x))
const tree = new MerkleTree(leaves, sha3)
const proof = tree.getProof(leaves[2], 2)
```

**Parameters:**

| Name | Type | Description |
| ------ | ------ | ------ |
| leaf | `any` |  Target leaf |
| `Optional` index | `any` |

**Returns:** `any`[]
*   Array of objects containing a position property of type string with values of 'left' or 'right' and a data property of type Buffer.

___
<a id="getroot"></a>

###  getRoot

▸ **getRoot**(): `any`

getRoot

*__desc__*: Returns the Merkle root hash as a Buffer.

*__example__*:
 ```js
const root = tree.getRoot()
```

**Returns:** `any`

___
<a id="print"></a>

###  print

▸ **print**(): `void`

**Returns:** `void`

___
<a id="tostring"></a>

###  toString

▸ **toString**(): `any`

**Returns:** `any`

___
<a id="totreestring"></a>

###  toTreeString

▸ **toTreeString**(): `any`

**Returns:** `any`

___
<a id="verify"></a>

###  verify

▸ **verify**(proof: *`any`*, targetNode: *`any`*, root: *`any`*): `boolean`

verify

*__desc__*: Returns true if the proof path (array of hashes) can connect the target node to the Merkle root.

*__example__*:
 ```js
const root = tree.getRoot()
const proof = tree.getProof(leaves[2])
const verified = tree.verify(proof, leaves[2], root)
```

**Parameters:**

| Name | Type | Description |
| ------ | ------ | ------ |
| proof | `any` |  Array of proof objects that should connect target node to Merkle root. |
| targetNode | `any` |  Target node Buffer |
| root | `any` |  Merkle root Buffer |

**Returns:** `boolean`

___
<a id="bufferify"></a>

### `<Static>` bufferify

▸ **bufferify**(x: *`any`*): `any`

**Parameters:**

| Name | Type |
| ------ | ------ |
| x | `any` |

**Returns:** `any`

___
<a id="print-1"></a>

### `<Static>` print

▸ **print**(tree: *`any`*): `void`

**Parameters:**

| Name | Type |
| ------ | ------ |
| tree | `any` |

**Returns:** `void`

___

